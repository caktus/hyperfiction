<polymer-element name=hf-condition attributes="has hasnot" extends=hf-base>
    <template>
        <style>
        @host {
            :scope {
                display: none;
            }
            :scope.condition-met {
                display: block;
            }
        }
        </style>
        <content></content>
    </template>
    <script>
        Polymer('hf-condition', {
            properties: {
                has: null,
                hasnot: null,
            },
            ready: function() {
                this.checkFlag('start');
            },
            checkAllFlags: function() {
                this.checkFlag('');
                var flags = this.game.flags;
                for (flag in flags) {
                    if (flags.hasOwnProperty(flag)) {
                        this.checkFlag(flag);
                    }
                }
            },
            checkFlag: function(flag) {
                console.log('c', flag, this.has, this.hasnot);
                if (this.has && this.has === flag) {
                    this.addClass('condition-met');
                } else if (!this.has) {
                    this.addClass('condition-met');
                }
                if (this.hasnot && this.hasnot === flag) {
                    this.removeClass('condition-met');
                }
            },
        });
    </script>
</polymer-element>
