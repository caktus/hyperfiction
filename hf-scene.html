<polymer-element name="hf-scene" attributes="name" extends="hf-base">
    <template>
        <style>
        @host {
            :scope {
                display: none;
            }
                :scope footer {
                    display: none;
                }
                :scope hf-scene header {
                    display: none;
                }
                :scope hf-scene footer {
                    display: block;
                }
            :scope.active {
                display: block;
            }
        }
        </style>
        <content></content>
        <footer>
            <button id=back onclick="javascript:window.history.back()">Back</button>
        </footer>
    </template>
    <script>
        Polymer('hf-scene', {
            ready: function() {
                this.game = this.parent('hf-game');
            },
            title: function() {
                return this.getAttribute('title')||'';    
            },
            enter: function() {
                var el = this;
                while (el.tagName === 'HF-SCENE') {
                    el.setAttribute('class', 'active');
                    el = el.parentNode;
                }
                if (this.flag) {
                    this.game.takeFlag(this);
                }
            },
            leave: function() {
                var el = this;
                while (el.tagName === 'HF-SCENE') {
                    el.setAttribute('class', '');
                    el = el.parentNode;
                }
            },
        });
    </script>
</polymer-element>
